$steps: (5, 10, 20, 30, 40, 50, 60, 70, 80, 90);
// Overwrite to `true` to use state specific colors and hues
$color-states: false !default;

@each $key, $value in $theme-colors {
  @each $step in $steps {
    :root {
      --#{$key}-light-#{$step}: #{lighten($value, $step)};
      --#{$key}-dark-#{$step}: #{darken($value, $step)};
      --#{$key}-opaque-#{$step}: #{transparentize($value, $step/100)};
    }

    .color-#{$key}-light-#{$step} {
      color: lighten($value, $step);
    }

    .color-#{$key}-dark-#{$step} {
      color: darken($value, $step);
    }

    .color-#{$key}-opaque-#{$step} {
      color: transparentize($value, $step/100);
    }

    .bg-#{$key}-light-#{$step} {
      background-color: lighten($value, $step);
    }

    .bg-#{$key}-dark-#{$step} {
      background-color: darken($value, $step);
    }

    .bg-#{$key}-opaque-#{$step} {
      background-color: transparentize($value, $step/100);
    }

    @if $color-states {
      .hover\:color-#{$key}-light-#{$step}:hover {
        color: lighten($value, $step) !important;
      }

      .focus\:color-#{$key}-light-#{$step}:focus {
        color: lighten($value, $step) !important;
      }

      .active\:color-#{$key}-light-#{$step}:active {
        color: lighten($value, $step) !important;
      }

      .hover\:color-#{$key}-dark-#{$step}:hover {
        color: darken($value, $step) !important;
      }

      .focus\:color-#{$key}-dark-#{$step}:focus {
        color: darken($value, $step) !important;
      }

      .active\:color-#{$key}-dark-#{$step}:active {
        color: darken($value, $step) !important;
      }

      .hover\:color-#{$key}-opaque-#{$step}:hover {
        color: transparentize($value, $step/100) !important;
      }

      .focus\:color-#{$key}-opaque-#{$step}:focus {
        color: transparentize($value, $step/100) !important;
      }

      .active\:color-#{$key}-opaque-#{$step}:active {
        color: transparentize($value, $step/100) !important;
      }

      .hover\:bg-#{$key}-light-#{$step}:hover {
        color: lighten($value, $step) !important;
      }

      .focus\:bg-#{$key}-light-#{$step}:focus {
        color: lighten($value, $step) !important;
      }

      .active\:bg-#{$key}-light-#{$step}:active {
        color: lighten($value, $step) !important;
      }

      .hover\:bg-#{$key}-dark-#{$step}:hover {
        color: darken($value, $step) !important;
      }

      .focus\:bg-#{$key}-dark-#{$step}:focus {
        color: darken($value, $step) !important;
      }

      .active\:bg-#{$key}-dark-#{$step}:active {
        color: darken($value, $step) !important;
      }

      .hover\:bg-#{$key}-opaque-#{$step}:hover {
        color: transparentize($value, $step/100) !important;
      }

      .focus\:bg-#{$key}-opaque-#{$step}:focus {
        color: transparentize($value, $step/100) !important;
      }

      .active\:bg-#{$key}-opaque-#{$step}:active {
        color: transparentize($value, $step/100) !important;
      }
    }
  }
}
