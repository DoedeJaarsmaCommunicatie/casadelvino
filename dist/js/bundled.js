document.addEventListener("DOMContentLoaded",()=>{new autoComplete({data:{src:async()=>{try{const e=await fetch("https://casadelvino.nl/wp-admin/admin-ajax.php?action=get_autofill");return(await e.json()).data}catch(e){console.error(e)}}},placeHolder:"Zoeken naar...",selector:"#autoComplete",threshold:0,searchEngine:"strict",resultsList:{container:e=>(resultsListID="autocomplete_List",resultsListID),destination:document.querySelector("#autoComplete"),position:"afterend"},resultItem:(e,t)=>`${e.match}`,highlight:!0,maxResults:5,onSelection:e=>{document.querySelector("#autoComplete").value=e.selection,document.querySelector("#searchForm").submit()}})}),window.addEventListener("scroll",()=>{const e=document.querySelector(".mobile__prod__grid-order");if(!e)return;const t=e.offsetTop+100;window.pageYOffset>t?setTimeout(()=>{e.classList.add("floating")},1e3):setTimeout(()=>{e.classList.remove("floating")})});const images=document.querySelectorAll(".lazy-load-me"),options={root:null,rootMargin:"50px 0px",threshold:0},preloadImage=e=>{e.setAttribute("src",e.dataset.lazy)};if("IntersectionObserver"in window&&images.length>0){const e=[];for(let t=0;t<images.length;t++)e[t]=new IntersectionObserver(e=>{e.forEach(e=>{console.log(e.intersectionRatio),e.intersectionRatio>0&&preloadImage(e.target)})},options);for(let t=0;t<images.length;t++)e[t].observe(images[t])}else Array.from(images).forEach(e=>preloadImage(e));const startListening=()=>{const e=document.querySelector('[data-action="toggleMobileSearch"]');if(!e)return;const t=e.getAttribute("aria-controls"),o=document.querySelector(t);e.addEventListener("click",()=>{o.classList.toggle("d-none")})};document.addEventListener("DOMContentLoaded",()=>{startListening()});const dropdown=()=>{document.querySelectorAll(".parent-nav-item").forEach(e=>{e.addEventListener("mouseover",()=>{try{e.querySelector(".drop-down").classList.add("active")}catch(e){}}),e.addEventListener("mouseout",()=>{try{e.querySelector(".drop-down").classList.remove("active")}catch(e){}})})},mobileMenu=()=>{const e=document.querySelector('[data-action="toggleMobileMenu"]');e&&e.addEventListener("click",()=>{const t=e.getAttribute("aria-controls"),o=document.querySelector(t),a=e.querySelector("svg");o.classList.toggle("active"),"false"===o.getAttribute("aria-expanded")?(o.setAttribute("aria-expanded",!0),a.classList.remove("fa-bars"),a.classList.add("fa-times")):(o.setAttribute("aria-expanded",!1),a.classList.remove("fa-times"),a.classList.add("fa-bars"))})};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".parent-nav-item").forEach(e=>{e.addEventListener("mouseover",()=>{try{e.querySelector(".drop-down").classList.add("active")}catch(e){}}),e.addEventListener("mouseout",()=>{try{e.querySelector(".drop-down").classList.remove("active")}catch(e){}})}),mobileMenu()});
